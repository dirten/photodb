language: "perl"
perl:
  - "5.26"
env:
  - "PERL5LIB=$TRAVIS_BUILD_DIR/lib"
install:
  - "cpanm --installdeps ."
jobs:
  include:
    - stage: syntax
      name: "Perl syntax"
      script: "perl -cw photodb"
    - name: "PerlCritic"
      script: "perlcritic --stern ."
    - stage: docs
      name: "Usage documentation"
      script: "perl -w check-usage-docs.pl"
    - name: "Function documentation"
      script: "perl -w check-func-docs.pl"
